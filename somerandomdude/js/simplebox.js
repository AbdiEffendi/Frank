// Generated by CoffeeScript 1.3.1
var FLB;FLB=function(){function e(a,b){this.element=a;Object.prototype.toString.call(b)==="[object Object]"?this.options=b:this.options=new Object;this.options.resizeImage=!1;this.init()}var a,b,c,d;e.sbLoaderSide;e.resizeImage;e.imgDisplayDelay;e.sbOverlayId;e.element;e.options;e.image;e.container;e.overlay;e.imgContainer;e.prototype.init=function(){var b;b=this;this.element.onclick=function(c){return a(c,b)}};e.prototype.createOverlay=function(a){var d;d=this;this.overlay=document.createElement("div");this.overlay.setAttribute("id","flb-overlay");this.overlay.innerHTML='<div id="flb-container"><a href="#" title="Close" class="closingElement">&nbsp;</a></div><div id="flb-content"><a id="flb-image" class="closingElement" href="#" title="Close"></a><a id="flb-close" class="closingElement" href="#" title="Close">&nbsp;</a></div>';document.getElementsByTagName("body")[0].appendChild(this.overlay);this.container=document.getElementById("flb-content");this.container.style.width="100px";this.container.style.height="100px";this.container.style.margin="-50px 0 0 -50px";this.container.onclick=this.overlay.onclick=function(a){return b(a,d)};this.imgContainer=document.getElementById("flb-image");this.imgContainer.style.background="url("+a+") no-repeat 50% 50%";this.image=new Image;this.image.onload=function(a){return c(a,d)};this.image.src=a};c=function(a,b){var c,e,f,g;if(!b.options.resizeImage){e=b.image.height;f=b.image.width}else{g=document.documentElement.clientHeight-40;if(b.image.height<g){e=b.image.height;f=b.image.width}else{e=g;f=Math.round(g*b.image.width/b.image.height);b.image.height=e;b.image.width=f}}c=function(){return d(b.container,f,e)};setTimeout(c,600)};d=function(a,b,c){a.style.width=b+"px";a.style.height=c+"px";a.style.margin="-"+(c+28)/2+"px 0 0 -"+b/2+"px";a.setAttribute("class","active")};a=function(a,b){b.createOverlay(a.target.getAttribute("href"));a.cancelBubble=!0;a.stopPropagation();return!1};b=function(a,b){b.container.setAttribute("class","");document.getElementsByTagName("body")[0].removeChild(b.overlay)};return e}();